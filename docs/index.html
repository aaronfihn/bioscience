<!DOCTYPE html>
<html lang="en">
<style>
  .wrapper {
    position: relative;
  }

  .legend {
    position: absolute;
    bottom: 0;
    right: 0;
  }
</style>

<head>
  <title>Bio Science Demo</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>

  <div class="jumbotron text-center"
    style="background-image: https://raw.githubusercontent.com/cs7290/bioscience/main/imgs/maine-seacoast.jpg; background-size:100% 100%;">
    <h1 style="color: white;">Welcome to our Maine Bio-science demo page</h1>
    <p></p>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-sm">
        <h3 class="text-center">James' visualization</h3>
        <p class="text-center">Curriculum Path</p>
        <p class="text-center">Shows the Path of selected specialization based on dummy data. <br>
          Hierarchy of graph is &lt;[Maine STEM Schools, Academies, Maine CTEs] - Community Colleges - Colleges -
          [Companies]&gt;</p>
        <div id="wrapper">
          <div id="observablehq-viewof-select-9fb4453d"></div>
          <div class="row">
            <div class="col-sm">
              <div class="wrapper">
                <div id="observablehq-map-9fb4453d"></div>
                <div class='legend'>
                  <svg width="300" height="150">
                    <circle cx="40" cy="10" r="6" fill="yellow"></circle>
                    <text x="80" y="15" font-family="Verdana">STEM Schools</text>
                    <circle cx="40" cy="25" r="6" fill="green"></circle>
                    <text x="80" y="30" font-family="Verdana">Academies</text>
                    <circle cx="40" cy="40" r="6" fill="red"></circle>
                    <text x="80" y="45" font-family="Verdana">CTE's</text>
                    <circle cx="40" cy="55" r="6" fill="purple"></circle>
                    <text x="80" y="60" font-family="Verdana">Community Colleges</text>
                    <circle cx="40" cy="70" r="6" fill="orange"></circle>
                    <text x="80" y="75" font-family="Verdana">Colleges</text>
                    <circle cx="40" cy="85" r="6" fill="blue"></circle>
                    <text x="80" y="90" font-family="Verdana">Companies</text>
                  </svg>
                </div>
              </div>
            </div>
            <div class="col-sm">
              <div id="observablehq-chart-9fb4453d"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm">
        <h3 class="text-center">Aaron's visualization</h3>
        <p class="text-center">Academic Collapsible Tree</p>
        <p class="text-center">Click nodes to expand. Data from <a
          href="https://docs.google.com/spreadsheets/d/1X8SNuN75ASXs34Opg2vUDFGSSsaviK9oXn0tYE-ppKo/edit?usp=share_link">
          here</a>.</p>
        <div id="Aaron">
          <div id="observablehq-chart-2f4fc44b"></div>
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@observablehq/inspector@5/dist/inspector.css">
          <script type="module">
            import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@5/dist/runtime.js";
            import define from "https://api.observablehq.com/@class/bioscience-tree@170.js?v=3";
            new Runtime().module(define, name => {
              if (name === "chart") return new Inspector(document.querySelector("#observablehq-chart-2f4fc44b"));
              });
          </script>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <h3 class="text-center">Jack's visualization</h3>
        <p class="text-center">Title</p>
        <p class="text-center">Hover and Click for details</p>
        <div id="wrapper">
          <div id="observablehq-viewof-select-9fb4453d"></div>
          <div class="row">
            <div class="col-sm">
              <div id="map"></div>
              <div class='legend'>
                  <svg width="300" height="150">
                    <circle cx="40" cy="55" r="6" fill="red"></circle>
                    <text x="80" y="60" font-family="Verdana">Start-up</text>
                    <circle cx="40" cy="70" r="6" fill="blue"></circle>
                    <text x="80" y="75" font-family="Verdana">Mid Size</text>
                    <circle cx="40" cy="85" r="6" fill="green"></circle>
                    <text x="80" y="90" font-family="Verdana">Large Size</text>
                  </svg>
                </div>
            </div>
            <div class="col-sm">
              <div id="graph"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm">
        <h3 class="text-center"><strong>Bioscience Organizational Hubs</strong></h3>
        <p class="text-center">The Force-Directed graph provided below visualizes the Bioscience Organizations of Maine
          based upon specializations. Each hub, designated by the blue circles, represents the type of organization
          focused on Bioscience including STEM Schools, Academies, CTE's, Community Colleges, Colleges and Companies.
          Hovering the circles connnected with these hubs will reveal the title of the organization.
          The drop down menu allows the user to filter the map to include organizations that offer particular
          specializations. While these specializations are currently represented by numbers, as more data is collected
          they will include areas of specialization such as Food Science, Forensic Science, Evolution, Zoology, etc. The
          colors of each circle will also represent the region of Maine where each orgainzation is located when more
          geographical
          information is gathered. This graph is intended to provide the user with the opportunity to connect their
          interests with opportunities to learn, interact with like minded individuals, search for careers, and map out
          possible pathways from education to employment. </p>
        <div id="observablehq-chart-89c38fbb"></div>
        <div id="observablehq-viewof-specialization-89c38fbb"></div>
      </div>
    </div>


  </div>
  <!-- Footer -->
  <footer class="page-footer font-small blue " style="background-color: #D3D3D3;">

    <!-- Copyright -->
    <div class="footer-copyright text-center py-3">Â© 2022 Copyright:
      <a href="/"> MDBootstrap.com</a>
    </div>
    <!-- Copyright -->

  </footer>
  <!-- Footer -->

</body>

</html>

<script type="module">

  // Load the Observable runtime and inspector.
  import { Runtime, Inspector } from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";

  // Your notebook, compiled as an ES module.
  import notebook from "https://api.observablehq.com/d/a87ed5abd750078a.js?v=3";

  // Embedding James' Notebook
  // Load the notebook, observing its cells with a default Inspector
  // that simply renders the value of each cell into the provided DOM node.
  new Runtime().module(notebook, name => {
    if (name === "chart") return new Inspector(document.querySelector("#graph"));
    if (name === "mymap") return new Inspector(document.querySelector("#map"));
    if (name === "map_filter") return true;
  });

  import define from "https://api.observablehq.com/@derekgmuse/bioscience-force@137.js?v=3";
  new Runtime().module(define, name => {
    if (name === "chart") return new Inspector(document.querySelector("#observablehq-chart-89c38fbb"));
    if (name === "viewof specialization") return new Inspector(document.querySelector("#observablehq-viewof-specialization-89c38fbb"));
    return ["filteredNodes", "graph", "filteredLinks"].includes(name);
  });

  // Embedding James' Notebook
  import def from "https://api.observablehq.com/d/6e8d9850958ed584@1507.js?v=3";
  let james = new Runtime().module(def, name => {
    if (name === "viewof select") return new Inspector(document.querySelector("#observablehq-viewof-select-9fb4453d"));
    if (name === "chart") return new Inspector(document.querySelector("#observablehq-chart-9fb4453d"));
    if (name === "map") return new Inspector(document.querySelector("#observablehq-map-9fb4453d"));
    return ["lines", "labels", "height", "width0", "Filter_CTE", "Filter_Companies", "Filter_STEM", "Filter_Academies", "Filter_Colleges", "Filter_CC", "sideeffect"].includes(name);
  });


  let w = 500;
  let div = document.getElementById('wrapper')
  james.redefine('width', w)
</script>
